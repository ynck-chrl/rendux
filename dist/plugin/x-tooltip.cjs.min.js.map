{"version":3,"file":"x-tooltip.cjs.min.js","sources":["../../src/plugin/x-tooltip.js"],"sourcesContent":["// xTooltip Plugin for renderx (attribute type)\n// Usage: <div x-tooltip=\"This is a tooltip message\">\n\nexport const xTooltip = {\n  name: 'x-tooltip',\n  target: 'attribute',\n  execute: function(element, tooltipText, component) {\n    // Remove any existing tooltip\n    if (element._xTooltipElement) {\n      element._xTooltipElement.remove();\n    }\n\n    // Create tooltip element\n    const tooltip = document.createElement('div');\n    tooltip.textContent = tooltipText;\n    tooltip.style.cssText = `\n      position: absolute;\n      background: #333;\n      color: white;\n      padding: 8px 12px;\n      border-radius: 4px;\n      font-size: 12px;\n      white-space: nowrap;\n      z-index: 1000;\n      pointer-events: none;\n      opacity: 0;\n      transition: opacity 0.2s;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n    `;\n\n    // Add tooltip to document\n    document.body.appendChild(tooltip);\n    element._xTooltipElement = tooltip;\n\n    // Mouse enter handler\n    const showTooltip = function(event) {\n      // Compute element position relative to viewport\n      const rect = element.getBoundingClientRect();\n      // Include page scroll offsets\n      const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n      const scrollTop  = window.pageYOffset || document.documentElement.scrollTop;\n\n      // Center tooltip horizontally over element and place above it\n      const left = scrollLeft + rect.left + (rect.width - tooltip.offsetWidth) / 2;\n      const top  = scrollTop + rect.top - tooltip.offsetHeight - 8;\n\n      tooltip.style.left = `${left}px`;\n      tooltip.style.top  = `${top}px`;\n      tooltip.style.opacity = '1';\n    };\n\n    // Mouse leave handler\n    const hideTooltip = function() {\n      tooltip.style.opacity = '0';\n    };\n\n    // Remove existing listeners\n    if (element._xTooltipListeners) {\n      element.removeEventListener('mouseenter', element._xTooltipListeners.show);\n      element.removeEventListener('mouseleave', element._xTooltipListeners.hide);\n    }\n\n    // Add event listeners\n    element.addEventListener('mouseenter', showTooltip);\n    element.addEventListener('mouseleave', hideTooltip);\n\n    // Store listeners for cleanup\n    element._xTooltipListeners = {\n      show: showTooltip,\n      hide: hideTooltip\n    };\n\n    // Cleanup when element is removed\n    if (!element._xTooltipCleanup) {\n      element._xTooltipCleanup = true;\n\n      const observer = new MutationObserver((mutations) => {\n        mutations.forEach((mutation) => {\n          mutation.removedNodes.forEach((node) => {\n            if (node === element || (node.contains && node.contains(element))) {\n              if (element._xTooltipElement) {\n                element._xTooltipElement.remove();\n              }\n              observer.disconnect();\n            }\n          });\n        });\n      });\n\n      observer.observe(document.body, {\n        childList: true,\n        subtree: true\n      });\n    }\n\n\n  }\n};"],"names":["xTooltip","name","target","execute","element","tooltipText","component","_xTooltipElement","remove","tooltip","document","createElement","textContent","style","cssText","body","appendChild","showTooltip","event","rect","getBoundingClientRect","scrollLeft","window","pageXOffset","documentElement","scrollTop","pageYOffset","left","width","offsetWidth","top","offsetHeight","opacity","hideTooltip","_xTooltipListeners","removeEventListener","show","hide","addEventListener","_xTooltipCleanup","observer","MutationObserver","mutations","forEach","mutation","removedNodes","node","contains","disconnect","observe","childList","subtree"],"mappings":";oEAGY,MAACA,EAAW,CACtBC,KAAM,YACNC,OAAQ,YACRC,QAAS,SAASC,EAASC,EAAaC,GAElCF,EAAQG,kBACVH,EAAQG,iBAAiBC,SAI3B,MAAMC,EAAUC,SAASC,cAAc,OACvCF,EAAQG,YAAcP,EACtBI,EAAQI,MAAMC,QAAU,gVAgBxBJ,SAASK,KAAKC,YAAYP,GAC1BL,EAAQG,iBAAmBE,EAG3B,MAAMQ,EAAc,SAASC,GAE3B,MAAMC,EAAOf,EAAQgB,wBAEfC,EAAaC,OAAOC,aAAeb,SAASc,gBAAgBH,WAC5DI,EAAaH,OAAOI,aAAehB,SAASc,gBAAgBC,UAG5DE,EAAON,EAAaF,EAAKQ,MAAQR,EAAKS,MAAQnB,EAAQoB,aAAe,EACrEC,EAAOL,EAAYN,EAAKW,IAAMrB,EAAQsB,aAAe,EAE3DtB,EAAQI,MAAMc,KAAO,GAAGA,MACxBlB,EAAQI,MAAMiB,IAAO,GAAGA,MACxBrB,EAAQI,MAAMmB,QAAU,GAC9B,EAGUC,EAAc,WAClBxB,EAAQI,MAAMmB,QAAU,GAC9B,EAmBI,GAhBI5B,EAAQ8B,qBACV9B,EAAQ+B,oBAAoB,aAAc/B,EAAQ8B,mBAAmBE,MACrEhC,EAAQ+B,oBAAoB,aAAc/B,EAAQ8B,mBAAmBG,OAIvEjC,EAAQkC,iBAAiB,aAAcrB,GACvCb,EAAQkC,iBAAiB,aAAcL,GAGvC7B,EAAQ8B,mBAAqB,CAC3BE,KAAMnB,EACNoB,KAAMJ,IAIH7B,EAAQmC,iBAAkB,CAC7BnC,EAAQmC,kBAAmB,EAE3B,MAAMC,EAAW,IAAIC,iBAAkBC,IACrCA,EAAUC,QAASC,IACjBA,EAASC,aAAaF,QAASG,KACzBA,IAAS1C,GAAY0C,EAAKC,UAAYD,EAAKC,SAAS3C,MAClDA,EAAQG,kBACVH,EAAQG,iBAAiBC,SAE3BgC,EAASQ,oBAMjBR,EAASS,QAAQvC,SAASK,KAAM,CAC9BmC,WAAW,EACXC,SAAS,GAEZ,CAGF"}